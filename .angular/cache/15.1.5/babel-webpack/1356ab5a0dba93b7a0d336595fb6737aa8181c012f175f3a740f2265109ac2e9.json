{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/carrito.service\";\nimport * as i2 from \"src/app/info.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CarritoComponent_div_0_li_2_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r6.procart.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CarritoComponent_div_0_li_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\", 19);\n    i0.ɵɵtext(6, \"Amount: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function CarritoComponent_div_0_li_2_div_2_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.procart.amount = $event);\n    })(\"ngModelChange\", function CarritoComponent_div_0_li_2_div_2_Template_input_ngModelChange_7_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.onChange());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.procart.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.procart.price);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"defaultValue\", 1)(\"ngModel\", ctx_r7.procart.amount);\n  }\n}\nfunction CarritoComponent_div_0_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 14);\n    i0.ɵɵtemplate(1, CarritoComponent_div_0_li_2_img_1_Template, 1, 1, \"img\", 15);\n    i0.ɵɵtemplate(2, CarritoComponent_div_0_li_2_div_2_Template, 8, 4, \"div\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.procart.amount != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.procart.amount != 0);\n  }\n}\nfunction CarritoComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"ul\");\n    i0.ɵɵtemplate(2, CarritoComponent_div_0_li_2_Template, 3, 2, \"li\", 3);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"form\", 4, 5);\n    i0.ɵɵlistener(\"ngSubmit\", function CarritoComponent_div_0_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onSubmit());\n    });\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"label\", 6);\n    i0.ɵɵtext(9, \"Full name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function CarritoComponent_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\")(13, \"br\");\n    i0.ɵɵelementStart(14, \"label\", 8);\n    i0.ɵɵtext(15, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementStart(17, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function CarritoComponent_div_0_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.address = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\")(19, \"br\");\n    i0.ɵɵelementStart(20, \"label\", 10);\n    i0.ɵɵtext(21, \"Credit card number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelementStart(23, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function CarritoComponent_div_0_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.card = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"p\", 12);\n    i0.ɵɵtext(26, \"We'll never share your payment details with anyone else.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 13);\n    i0.ɵɵtext(28, \"Submit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(6);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.carrito);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total: $\", ctx_r0.total, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.address);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.card);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", _r4.invalid);\n  }\n}\nfunction CarritoComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 21);\n    i0.ɵɵtext(1, \"Your cart is empty!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"a\", 22);\n    i0.ɵɵtext(3, \"Go to product list\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CarritoComponent {\n  constructor(carritoService, infoService, router) {\n    this.carritoService = carritoService;\n    this.infoService = infoService;\n    this.router = router;\n    this.carrito = [];\n    this.total = 0;\n    this.nombre = '';\n    this.direccion = '';\n    this.tarjeta = '';\n  }\n  ngOnInit() {\n    this.carrito = this.carritoService.VerCarrito();\n    for (var p of this.carrito) {\n      this.total += p.precio * p.cantidad;\n    }\n    this.total = parseFloat(this.total.toFixed(2));\n  }\n  CambiarCantidad() {\n    this.total = 0;\n    for (var p of this.carrito) {\n      if (p.cantidad == 0) {\n        alert('¡Eliminado del carrito!');\n        this.carrito = this.carrito.filter(element => {\n          return element.cantidad != 0;\n        });\n      }\n      this.total += p.precio * p.cantidad;\n    }\n    this.total = parseFloat(this.total.toFixed(2));\n  }\n  FinalizarCarrito() {\n    this.carrito.length = 0;\n    this.infoService.nombre = this.nombre;\n    this.infoService.total = this.total;\n    this.router.navigate(['/success']);\n  }\n}\nCarritoComponent.ɵfac = function CarritoComponent_Factory(t) {\n  return new (t || CarritoComponent)(i0.ɵɵdirectiveInject(i1.CarritoService), i0.ɵɵdirectiveInject(i2.InfoService), i0.ɵɵdirectiveInject(i3.Router));\n};\nCarritoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarritoComponent,\n  selectors: [[\"app-carrito\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[\"class\", \"carrito-container\", 4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [1, \"carrito-container\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-margin\", \"cart-panel\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", \"id\", \"name\", \"required\", \"\", \"minlength\", \"3\", \"placeholder\", \"(minimum 3 characters)\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"address\"], [\"type\", \"text\", \"name\", \"address\", \"id\", \"address\", \"required\", \"\", \"minlength\", \"6\", \"placeholder\", \"(minimum 6 characters)\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"card\"], [\"type\", \"text\", \"name\", \"card\", \"id\", \"card\", \"pattern\", \"[0-9]+\", \"required\", \"\", \"minlength\", \"16\", \"maxlength\", \"16\", \"placeholder\", \"(16-digit number)\", 3, \"ngModel\", \"ngModelChange\"], [2, \"opacity\", \"0.5\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"cart-item\"], [\"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"cart-item-details\", 4, \"ngIf\"], [\"alt\", \"\", 3, \"src\"], [1, \"cart-item-details\"], [\"for\", \"amount\"], [\"type\", \"number\", \"name\", \"amount\", \"min\", \"0\", 1, \"number-input\", 3, \"defaultValue\", \"ngModel\", \"ngModelChange\"], [1, \"empty-cart-message\"], [\"routerLink\", \"/\"]],\n  template: function CarritoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CarritoComponent_div_0_Template, 29, 6, \"div\", 0);\n      i0.ɵɵtemplate(1, CarritoComponent_ng_template_1_Template, 4, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.carrito.length != 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.MaxLengthValidator, i5.PatternValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n  styles: [\"img[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n.form-margin[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 50px;\\r\\n}\\r\\n\\r\\n.articulo-carrito[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.articulo-carrito-detalles[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    flex-direction: column;\\r\\n    align-items: flex-start;\\r\\n    margin-left: 50px;\\r\\n}\\r\\n\\r\\n.cantidad-input[_ngcontent-%COMP%] {\\r\\n    width: 80px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.carrito-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n    margin-top: 64px;\\r\\n}\\r\\n\\r\\n.carrito-panel[_ngcontent-%COMP%] {\\r\\n    margin-left: 70px;\\r\\n    margin-right: 50px;\\r\\n}\\r\\n\\r\\n.carrito-vacio-mensaje[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    margin-top: 64px;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    text-decoration: none;\\r\\n    color: rgb(0, 132, 255);\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    background: rgb(0, 132, 255);\\r\\n    color: white;\\r\\n    padding: 8px;\\r\\n    border: none;\\r\\n    border-radius: 5px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jYXJyaXRvL2NhcnJpdG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7SUFDdkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixxQkFBcUI7SUFDckIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLFlBQVk7SUFDWixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtBQUN0QiIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG59XHJcblxyXG4uZm9ybS1tYXJnaW4ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcclxufVxyXG5cclxuLmFydGljdWxvLWNhcnJpdG8ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uYXJ0aWN1bG8tY2Fycml0by1kZXRhbGxlcyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbiAgICBtYXJnaW4tbGVmdDogNTBweDtcclxufVxyXG5cclxuLmNhbnRpZGFkLWlucHV0IHtcclxuICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY2Fycml0by1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDY0cHg7XHJcbn1cclxuXHJcbi5jYXJyaXRvLXBhbmVsIHtcclxuICAgIG1hcmdpbi1sZWZ0OiA3MHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1MHB4O1xyXG59XHJcblxyXG4uY2Fycml0by12YWNpby1tZW5zYWplIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDY0cHg7XHJcbn1cclxuXHJcbmEge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6IHJnYigwLCAxMzIsIDI1NSk7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2IoMCwgMTMyLCAyNTUpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CarritoComponent","constructor","carritoService","infoService","router","ngOnInit","carrito","VerCarrito","p","total","precio","cantidad","parseFloat","toFixed","CambiarCantidad","alert","filter","element","FinalizarCarrito","length","nombre","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\rober\\OneDrive\\Desktop\\ESTUDIOS\\DAM\\proyecto\\ApiProyecto\\TiendaRopaAngular\\TiendaProyectoAngular\\src\\app\\components\\carrito\\carrito.component.html","C:\\Users\\rober\\OneDrive\\Desktop\\ESTUDIOS\\DAM\\proyecto\\ApiProyecto\\TiendaRopaAngular\\TiendaProyectoAngular\\src\\app\\components\\carrito\\carrito.component.ts"],"sourcesContent":["<div class=\"carrito-container\" *ngIf=\"carrito.length != 0; else empty\">\r\n    <ul>\r\n        <li *ngFor=\"let carrito of carrito\" class=\"cart-item\">\r\n            <img src=\"{{ procart.url }}\" alt=\"\" *ngIf=\"procart.amount != 0\">\r\n            <div class=\"cart-item-details\" *ngIf=\"procart.amount != 0\">\r\n                <p>{{ procart.name }}</p>\r\n                <p>{{ procart.price }}</p>\r\n                <label for=\"amount\">Amount: </label>\r\n                <input type=\"number\" name=\"amount\" min=\"0\" class=\"number-input\" [defaultValue]=\"1\" [(ngModel)]=\"procart.amount\" (ngModelChange)=\"onChange()\">\r\n            </div>\r\n        </li>\r\n        <p>Total: ${{ total }}</p>\r\n    </ul>\r\n\r\n    <form #form=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"form-margin cart-panel\">\r\n        <br>\r\n        <label for=\"name\">Full name</label>\r\n        <br>\r\n        <input type=\"text\" name=\"name\" id=\"name\" required minlength=\"3\" placeholder=\"(minimum 3 characters)\" [(ngModel)]=\"name\">\r\n        <br><br>\r\n        <label for=\"address\">Address</label>\r\n        <br>\r\n        <input type=\"text\" name=\"address\" id=\"address\" required minlength=\"6\" placeholder=\"(minimum 6 characters)\" [(ngModel)]=\"address\">\r\n        <br><br>\r\n        <label for=\"card\">Credit card number</label>\r\n        <br>\r\n        <input type=\"text\" name=\"card\" id=\"card\" pattern=\"[0-9]+\" required minlength=\"16\" maxlength=\"16\" placeholder=\"(16-digit number)\" [(ngModel)]=\"card\">\r\n        <br>\r\n        <p style=\"opacity: 0.5;\">We'll never share your payment details with anyone else.</p>\r\n        <button type=\"submit\" [disabled]=\"form.invalid\">Submit</button>\r\n    </form>\r\n</div>\r\n<ng-template #empty>\r\n    <p class=\"empty-cart-message\">Your cart is empty!</p>\r\n    <a routerLink=\"/\">Go to product list</a>\r\n</ng-template>\r\n","import { Component } from '@angular/core';\r\nimport { Product } from 'src/app/models/product';\r\nimport { CarritoService } from 'src/app/services/carrito.service';\r\nimport { InfoService } from 'src/app/info.service';\r\nimport { Router } from '@angular/router';\r\nimport {Articulo} from \"../../models/Articulo\";\r\n\r\n@Component({\r\n  selector: 'app-carrito',\r\n  templateUrl: './carrito.component.html',\r\n  styleUrls: ['./carrito.component.css']\r\n})\r\nexport class CarritoComponent {\r\n\r\n  carrito: Articulo[] = [];\r\n  total: number = 0;\r\n  nombre: string = '';\r\n  direccion: string = '';\r\n  tarjeta: string = '';\r\n\r\n  constructor(\r\n    private carritoService: CarritoService,\r\n    private infoService: InfoService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.carrito = this.carritoService.VerCarrito();\r\n    for (var p of this.carrito) {\r\n      this.total += p.precio * p.cantidad;\r\n    }\r\n    this.total = parseFloat(this.total.toFixed(2));\r\n  }\r\n\r\n  CambiarCantidad() {\r\n    this.total = 0;\r\n    for (var p of this.carrito) {\r\n      if (p.cantidad == 0) {\r\n        alert('¡Eliminado del carrito!');\r\n        this.carrito = this.carrito.filter((element) => {\r\n            return element.cantidad != 0;\r\n        });\r\n      }\r\n      this.total += p.precio * p.cantidad;\r\n    }\r\n    this.total = parseFloat(this.total.toFixed(2));\r\n  }\r\n\r\n  FinalizarCarrito() {\r\n    this.carrito.length = 0;\r\n    this.infoService.nombre = this.nombre;\r\n    this.infoService.total = this.total;\r\n    this.router.navigate(['/success'])\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}