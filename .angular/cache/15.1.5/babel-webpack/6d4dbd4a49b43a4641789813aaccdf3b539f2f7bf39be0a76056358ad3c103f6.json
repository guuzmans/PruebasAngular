{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/cart.service\";\nimport * as i2 from \"src/app/info.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CartComponent_div_0_li_2_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n  if (rf & 2) {\n    const procart_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", procart_r5.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CartComponent_div_0_li_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_div_0_li_2_div_2_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const procart_r5 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(procart_r5.amount = $event);\n    })(\"ngModelChange\", function CartComponent_div_0_li_2_div_2_Template_input_ngModelChange_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r12.onChange());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const procart_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(procart_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(procart_r5.price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"defaultValue\", 1)(\"ngModel\", procart_r5.amount);\n  }\n}\nfunction CartComponent_div_0_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 14);\n    i0.ɵɵtemplate(1, CartComponent_div_0_li_2_img_1_Template, 1, 1, \"img\", 15);\n    i0.ɵɵtemplate(2, CartComponent_div_0_li_2_div_2_Template, 6, 4, \"div\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const procart_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", procart_r5.amount != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", procart_r5.amount != 0);\n  }\n}\nfunction CartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"ul\");\n    i0.ɵɵtemplate(2, CartComponent_div_0_li_2_Template, 3, 2, \"li\", 3);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"form\", 4, 5);\n    i0.ɵɵlistener(\"ngSubmit\", function CartComponent_div_0_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onSubmit());\n    });\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"label\", 6);\n    i0.ɵɵtext(9, \"Full name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\")(13, \"br\");\n    i0.ɵɵelementStart(14, \"label\", 8);\n    i0.ɵɵtext(15, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementStart(17, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_div_0_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.address = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\")(19, \"br\");\n    i0.ɵɵelementStart(20, \"label\", 10);\n    i0.ɵɵtext(21, \"Credit card number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelementStart(23, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_div_0_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.card = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"p\", 12);\n    i0.ɵɵtext(26, \"We'll never share your payment details with anyone else.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 13);\n    i0.ɵɵtext(28, \"Submit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(6);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.procarts);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total: $\", ctx_r0.total, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.address);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.card);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", _r4.invalid);\n  }\n}\nfunction CartComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Your cart is empty!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"a\", 21);\n    i0.ɵɵtext(3, \"Go to product list\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CartComponent {\n  constructor(cartService, infoService, router) {\n    this.cartService = cartService;\n    this.infoService = infoService;\n    this.router = router;\n    this.procarts = [];\n    this.total = 0;\n    this.name = '';\n    this.address = '';\n    this.card = '';\n  }\n  ngOnInit() {\n    this.procarts = this.cartService.getProcarts();\n    for (var p of this.procarts) {\n      this.total += p.price * p.amount;\n    }\n    this.total = parseFloat(this.total.toFixed(2));\n  }\n  onChange() {\n    this.total = 0;\n    for (var p of this.procarts) {\n      if (p.amount == 0) {\n        alert('Removed from cart!');\n        this.procarts = this.procarts.filter(element => {\n          return element.amount != 0;\n        });\n      }\n      this.total += p.price * p.amount;\n    }\n    this.total = parseFloat(this.total.toFixed(2));\n  }\n  onSubmit() {\n    this.procarts.length = 0;\n    // this.infoService.name = this.name;\n    this.infoService.total = this.total;\n    this.router.navigate(['/success']);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.InfoService), i0.ɵɵdirectiveInject(i3.Router));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[\"class\", \"cart-container\", 4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [1, \"cart-container\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-margin\", \"cart-panel\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", \"id\", \"name\", \"required\", \"\", \"minlength\", \"3\", \"placeholder\", \"(minimum 3 characters)\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"address\"], [\"type\", \"text\", \"name\", \"address\", \"id\", \"address\", \"required\", \"\", \"minlength\", \"6\", \"placeholder\", \"(minimum 6 characters)\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"card\"], [\"type\", \"text\", \"name\", \"card\", \"id\", \"card\", \"pattern\", \"[0-9]+\", \"required\", \"\", \"minlength\", \"16\", \"maxlength\", \"16\", \"placeholder\", \"(16-digit number)\", 3, \"ngModel\", \"ngModelChange\"], [2, \"opacity\", \"0.5\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"cart-item\"], [\"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"cart-item-details\", 4, \"ngIf\"], [\"alt\", \"\", 3, \"src\"], [1, \"cart-item-details\"], [\"type\", \"number\", \"name\", \"amount\", \"min\", \"0\", 1, \"number-input\", 3, \"defaultValue\", \"ngModel\", \"ngModelChange\"], [1, \"empty-cart-message\"], [\"routerLink\", \"/\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_div_0_Template, 29, 6, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_ng_template_1_Template, 4, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.procarts.length != 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.MaxLengthValidator, i5.PatternValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n  styles: [\"img[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    border-radius: 10px;\\r\\n}\\r\\n  \\r\\n.form-margin[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 50px;\\r\\n}\\r\\n  \\r\\n.cart-item[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n  \\r\\n.cart-item-details[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    flex-direction: column;\\r\\n    align-items: left;\\r\\n    margin-left: 50px;\\r\\n}\\r\\n  \\r\\n.number-input[_ngcontent-%COMP%] {\\r\\n    width: 80px;\\r\\n    text-align: center;\\r\\n}\\r\\n  \\r\\n.cart-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n    margin-top: 64px;\\r\\n}\\r\\n  \\r\\n.cart-panel[_ngcontent-%COMP%] {\\r\\n    margin-left: 70px;\\r\\n    margin-right: 50px;\\r\\n}\\r\\n\\r\\n.empty-cart-message[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    margin-top: 64px;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    text-decoration: none;\\r\\n    color: rgb(0, 132, 255);\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    background: rgb(0, 132, 255);\\r\\n    color: white;\\r\\n    padding: 8px;\\r\\n    border: none;\\r\\n    border-radius: 5px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jYXJ0L2NhcnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7SUFDdkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixxQkFBcUI7SUFDckIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLFlBQVk7SUFDWixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtBQUN0QiIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG59XHJcbiAgXHJcbi5mb3JtLW1hcmdpbiB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4O1xyXG59XHJcbiAgXHJcbi5jYXJ0LWl0ZW0ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcbiAgXHJcbi5jYXJ0LWl0ZW0tZGV0YWlscyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGxlZnQ7XHJcbiAgICBtYXJnaW4tbGVmdDogNTBweDtcclxufVxyXG4gIFxyXG4ubnVtYmVyLWlucHV0IHtcclxuICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbiAgXHJcbi5jYXJ0LWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogNjRweDtcclxufVxyXG4gIFxyXG4uY2FydC1wYW5lbCB7XHJcbiAgICBtYXJnaW4tbGVmdDogNzBweDtcclxuICAgIG1hcmdpbi1yaWdodDogNTBweDtcclxufVxyXG5cclxuLmVtcHR5LWNhcnQtbWVzc2FnZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiA2NHB4O1xyXG59XHJcblxyXG5hIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yOiByZ2IoMCwgMTMyLCAyNTUpO1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDAsIDEzMiwgMjU1KTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CartComponent","constructor","cartService","infoService","router","ngOnInit","procarts","getProcarts","p","total","price","amount","parseFloat","toFixed","onChange","alert","filter","element","onSubmit","length","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\rober\\OneDrive\\Desktop\\ESTUDIOS\\DAM\\proyecto\\ApiProyecto\\TiendaRopaAngular\\TiendaProyectoAngular\\src\\app\\components\\cart\\cart.component.html","C:\\Users\\rober\\OneDrive\\Desktop\\ESTUDIOS\\DAM\\proyecto\\ApiProyecto\\TiendaRopaAngular\\TiendaProyectoAngular\\src\\app\\components\\cart\\cart.component.ts"],"sourcesContent":["<div class=\"cart-container\" *ngIf=\"procarts.length != 0; else empty\">\r\n  <ul>\r\n    <li *ngFor=\"let procart of procarts\" class=\"cart-item\">\r\n      <img src=\"{{ procart.url }}\" alt=\"\" *ngIf=\"procart.amount != 0\">\r\n      <div class=\"cart-item-details\" *ngIf=\"procart.amount != 0\">\r\n        <p>{{ procart.name }}</p>\r\n        <p>{{ procart.price }}</p>\r\n        <!--                <label for=\"amount\">Amount: </label>-->\r\n        <input type=\"number\" name=\"amount\" min=\"0\" class=\"number-input\" [defaultValue]=\"1\" [(ngModel)]=\"procart.amount\" (ngModelChange)=\"onChange()\">\r\n      </div>\r\n    </li>\r\n    <p>Total: ${{ total }}</p>\r\n  </ul>\r\n\r\n  <form #form=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"form-margin cart-panel\">\r\n    <br>\r\n    <label for=\"name\">Full name</label>\r\n    <br>\r\n    <input type=\"text\" name=\"name\" id=\"name\" required minlength=\"3\" placeholder=\"(minimum 3 characters)\" [(ngModel)]=\"name\">\r\n    <br><br>\r\n    <label for=\"address\">Address</label>\r\n    <br>\r\n    <input type=\"text\" name=\"address\" id=\"address\" required minlength=\"6\" placeholder=\"(minimum 6 characters)\" [(ngModel)]=\"address\">\r\n    <br><br>\r\n    <label for=\"card\">Credit card number</label>\r\n    <br>\r\n    <input type=\"text\" name=\"card\" id=\"card\" pattern=\"[0-9]+\" required minlength=\"16\" maxlength=\"16\" placeholder=\"(16-digit number)\" [(ngModel)]=\"card\">\r\n    <br>\r\n    <p style=\"opacity: 0.5;\">We'll never share your payment details with anyone else.</p>\r\n    <button type=\"submit\" [disabled]=\"form.invalid\">Submit</button>\r\n  </form>\r\n</div>\r\n<ng-template #empty>\r\n  <p class=\"empty-cart-message\">Your cart is empty!</p>\r\n  <a routerLink=\"/\">Go to product list</a>\r\n</ng-template>\r\n","import { Component } from '@angular/core';\r\nimport { Product } from 'src/app/models/product';\r\nimport { CartService } from 'src/app/cart.service';\r\nimport { InfoService } from 'src/app/info.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent {\r\n\r\n  procarts: Product[] = [];\r\n  total: number = 0;\r\n  name: string = '';\r\n  address: string = '';\r\n  card: string = '';\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private infoService: InfoService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.procarts = this.cartService.getProcarts();\r\n    for (var p of this.procarts) {\r\n      this.total += p.price * p.amount;\r\n    }\r\n    this.total = parseFloat(this.total.toFixed(2));\r\n  }\r\n\r\n  onChange() {\r\n    this.total = 0;\r\n    for (var p of this.procarts) {\r\n      if (p.amount == 0) {\r\n        alert('Removed from cart!');\r\n        this.procarts = this.procarts.filter((element) => {\r\n          return element.amount != 0;\r\n        });\r\n      }\r\n      this.total += p.price * p.amount;\r\n    }\r\n    this.total = parseFloat(this.total.toFixed(2));\r\n  }\r\n\r\n  onSubmit() {\r\n    this.procarts.length = 0;\r\n    // this.infoService.name = this.name;\r\n    this.infoService.total = this.total;\r\n    this.router.navigate(['/success'])\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}